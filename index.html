<!DOCTYPE html>
<html>
<title>human everyone wtf</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    main.center {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    main.center span {
        position: absolute;
        transition: opacity 2s;
    }

    footer {
        font-size: small;

        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    footer,
    footer a {
        color: gray;
    }

    body {
        text-align: center;
    }

    p.line {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    p.line span {
        padding: 0 10px;
    }

    p.line:before,
    p.line:after {
        height: 2px;
        flex: 1;
        content: '';
    }

    h2.inline {
        display: inline-block;
        margin-left: 10px;
    }

    /* light, default */
    body {
        background: white;
    }

    p.line span {
        background: white;
    }

    p.line:before,
    p.line:after {
        background: black;
    }


    /* dark */
    @media (prefers-color-scheme: dark) {
        body {
            background: black;
            color: white;
        }

        p.line span {
            background: black;
        }

        p.line:before,
        p.line:after {
            background: white;
        }

        :root {
            color-scheme: dark;
        }
    }
</style>

<body>
    <main class="center">
        <h1>Bytes To Human</h1>
        <p>
            This page allows you to convert a number of bytes to a human readable representation.
        </p>
        <br />
        <br />
        <input type="number" min="0" id="human">
        <h2 class="inline">Byte(s)</h2>
        <p class="line"><span>correspond(s) to</span></p>
        <h2 id="out">0B</h2>
    </main>
    <script>
        const input = document.getElementById("human")
        const output = document.getElementById("out")

        input.addEventListener('change', (event) => {
            event.preventDefault();
            update();
        })

        function update() {
            output.innerHTML = "";
            output.append(
                document.createTextNode(humanFileSize(input.value))
            );
        }
        function humanFileSize(size) {
            // adapted from https://stackoverflow.com/a/20459666
            if(typeof size !== 'number') size = parseInt(size, 10)
            const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];
            let i = 0;
            while (size >= 1024) {
                size /= 1024;
                i++
            }
            return size.toFixed(1) + ' ' + units[i];
        }
    </script>

    <footer>
        <script src="https://inform.everyone.wtf/legal.min.js" data-site-id="d7ecbd18-c0e2-41a4-b57b-9479e3c04c37"></script>
        <br />
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
            This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License
        </a>.
    </footer>
</body>

</html>